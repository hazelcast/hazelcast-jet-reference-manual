<!DOCTYPE html>
<!--[if lt IE 7]>       <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>          <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>          <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>Forwarding Patterns - Hazelcast Jet Reference Manual</title>
    <meta name="description" content="Hazelcast Jet Reference Manual" />
    <meta name="author" content="Hazelcast">
    <meta charset="UTF-8">
    <link rel="icon" href="../../themes/daux/img/favicon.png" type="image/x-icon">
    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700&subset=latin,cyrillic-ext,cyrillic' rel='stylesheet' type='text/css'>
    <!-- CSS -->
    <link href='../../themes/daux/css/theme-blue.min.css' rel='stylesheet' type='text/css'>
            <!-- Tipue Search -->
        <link href="../../tipuesearch/tipuesearch.css" rel="stylesheet">
    
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body class="">
    
<header class="Navbar hidden-print">
    <div>
      <div class="sitebar"></div>
        <div>  
          <div style="float:left">
            <a href="http://jet.hazelcast.org/"><img src="logo.png" style="padding-bottom:8px;"/></a>
          </div>
          <div>
            <a class="Navbar__branda" href="../../index.html">Reference Manual <span style="font-size:14px">for release 0.3.1</span></a>
          </div>
        </div>
    <div class="Search">
        <svg class="Search__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451 451"><path d="M447.05 428l-109.6-109.6c29.4-33.8 47.2-77.9 47.2-126.1C384.65 86.2 298.35 0 192.35 0 86.25 0 .05 86.3.05 192.3s86.3 192.3 192.3 192.3c48.2 0 92.3-17.8 126.1-47.2L428.05 447c2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4c5.2-5.2 5.2-13.8 0-19zM26.95 192.3c0-91.2 74.2-165.3 165.3-165.3 91.2 0 165.3 74.2 165.3 165.3s-74.1 165.4-165.3 165.4c-91.1 0-165.3-74.2-165.3-165.4z"/></svg>
        <input type="search" id="tipue_search_input" class="Search__field" placeholder="Search..." autocomplete="on" results=25 autosave=text_search>
    </div>


</div></header>
<div class="Columns content">
    <aside class="Columns__left Collapsible">
        <div class="Collapsible__container">
            <button type="button" class="Button Collapsible__trigger">
                <span class="Collapsible__trigger--bar"></span>
                <span class="Collapsible__trigger--bar"></span>
                <span class="Collapsible__trigger--bar"></span>
            </button>
        </div>

        <div class="Collapsible__content">
            <!-- Navigation -->
            <ul class='Nav'><li class='Nav__item '><a href="../../Preface.html">Preface</a></li><li class='Nav__item  has-children'><a href="../../Introduction/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Introduction</a><ul class='Nav'><li class='Nav__item '><a href="../../Introduction/Data_Processing_Model.html">Data Processing Model</a></li><li class='Nav__item '><a href="../../Introduction/Clustering_and_Discovery.html">Clustering and Discovery</a></li><li class='Nav__item '><a href="../../Introduction/Members_and_Clients.html">Members and Clients</a></li><li class='Nav__item '><a href="../../Introduction/Relationship_with_Hazelcast_IMDG.html">Relationship with Hazelcast IMDG</a></li><li class='Nav__item '><a href="../../Introduction/Fault_Detection.html">Fault Detection</a></li><li class='Nav__item '><a href="../../Introduction/Elasticity.html">Elasticity</a></li></ul></li><li class='Nav__item '><a href="../../Getting_Started.html">Getting Started</a></li><li class='Nav__item  has-children'><a href="../../Hazelcast_Jet_101_-Word_Counting_Batch_Job/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Hazelcast Jet 101 -Word Counting Batch Job</a><ul class='Nav'><li class='Nav__item '><a href="../../Hazelcast_Jet_101_-Word_Counting_Batch_Job/Modeling_Word_Count_in_terms_of_a_DAG.html">Modeling Word Count in terms of a DAG</a></li><li class='Nav__item '><a href="../../Hazelcast_Jet_101_-Word_Counting_Batch_Job/Implementing_and_Running_the_DAG.html">Implementing and Running the DAG</a></li></ul></li><li class='Nav__item Nav__item--open has-children'><a href="../../Understanding_Jet_Architecture_and_API/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Understanding Jet Architecture and API</a><ul class='Nav'><li class='Nav__item '><a href="../../Understanding_Jet_Architecture_and_API/DAG.html">DAG</a></li><li class='Nav__item '><a href="../../Understanding_Jet_Architecture_and_API/Job.html">Job</a></li><li class='Nav__item '><a href="../../Understanding_Jet_Architecture_and_API/Vertex.html">Vertex</a></li><li class='Nav__item  has-children'><a href="../../Understanding_Jet_Architecture_and_API/Processor/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Processor</a><ul class='Nav'><li class='Nav__item '><a href="../../Understanding_Jet_Architecture_and_API/Processor/Cooperative_Multithreading.html">Cooperative Multithreading</a></li><li class='Nav__item '><a href="../../Understanding_Jet_Architecture_and_API/Processor/Outbox.html">Outbox</a></li><li class='Nav__item '><a href="../../Understanding_Jet_Architecture_and_API/Processor/Data-Processing_Callbacks.html">Data-Processing Callbacks</a></li></ul></li><li class='Nav__item '><a href="../../Understanding_Jet_Architecture_and_API/Creating_and_Initializing_Jobs.html">Creating and Initializing Jobs</a></li><li class='Nav__item  has-children'><a href="../../Understanding_Jet_Architecture_and_API/Convenience_API_to_Implement_a_Processor/AbstractProcessor.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Convenience API to Implement a Processor</a><ul class='Nav'><li class='Nav__item '><a href="../../Understanding_Jet_Architecture_and_API/Convenience_API_to_Implement_a_Processor/AbstractProcessor.html">AbstractProcessor</a></li><li class='Nav__item '><a href="../../Understanding_Jet_Architecture_and_API/Convenience_API_to_Implement_a_Processor/Traverser.html">Traverser</a></li><li class='Nav__item '><a href="../../Understanding_Jet_Architecture_and_API/Convenience_API_to_Implement_a_Processor/Processor_Utility_Class.html">Processor Utility Class</a></li></ul></li><li class='Nav__item Nav__item--open has-children'><a href="../../Understanding_Jet_Architecture_and_API/Edge/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Edge</a><ul class='Nav'><li class='Nav__item '><a href="../../Understanding_Jet_Architecture_and_API/Edge/Priority.html">Priority</a></li><li class='Nav__item '><a href="../../Understanding_Jet_Architecture_and_API/Edge/Local_and_Distributed_Edges.html">Local and Distributed Edges</a></li><li class='Nav__item Nav__item--active'><a href="../../Understanding_Jet_Architecture_and_API/Edge/Forwarding_Patterns.html">Forwarding Patterns</a></li><li class='Nav__item '><a href="../../Understanding_Jet_Architecture_and_API/Edge/Buffered_Edges.html">Buffered Edges</a></li><li class='Nav__item '><a href="../../Understanding_Jet_Architecture_and_API/Edge/Tuning_Edges.html">Tuning Edges</a></li></ul></li></ul></li><li class='Nav__item  has-children'><a href="../../Advanced_Tutorial_-_Inverted_TF-IDF_Index/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Advanced Tutorial - Inverted TF-IDF Index</a><ul class='Nav'><li class='Nav__item '><a href="../../Advanced_Tutorial_-_Inverted_TF-IDF_Index/Building_Inverted_Index_with_Java_Streams.html">Building Inverted Index with Java Streams</a></li><li class='Nav__item '><a href="../../Advanced_Tutorial_-_Inverted_TF-IDF_Index/Translating_to_Jet_DAG.html">Translating to Jet DAG</a></li><li class='Nav__item '><a href="../../Advanced_Tutorial_-_Inverted_TF-IDF_Index/Implementation Code.html">Implementation Code</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Understanding_Configuration/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Understanding Configuration</a><ul class='Nav'><li class='Nav__item '><a href="../../Understanding_Configuration/Configuring_Programatically.html">Configuring Programatically</a></li><li class='Nav__item '><a href="../../Understanding_Configuration/Configuring_Declaratively.html">Configuring Declaratively</a></li><li class='Nav__item '><a href="../../Understanding_Configuration/Configuring_Underlying_Hazelcast_Instance.html">Configuring Underlying Hazelcast Instance</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Implementing_Custom_Sources_and_Sinks/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Implementing Custom Sources and Sinks</a><ul class='Nav'><li class='Nav__item '><a href="../../Implementing_Custom_Sources_and_Sinks/Sources.html">Sources</a></li><li class='Nav__item '><a href="../../Implementing_Custom_Sources_and_Sinks/Example_-_Distributed_Integer_Generator.html">Example - Distributed Integer Generator</a></li><li class='Nav__item '><a href="../../Implementing_Custom_Sources_and_Sinks/Sinks.html">Sinks</a></li><li class='Nav__item '><a href="../../Implementing_Custom_Sources_and_Sinks/Example_-_File_Writer.html">Example - File Writer</a></li></ul></li><li class='Nav__item  has-children'><a href="../../java-util-stream_Support_for_Hazelcast_IMDG/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>java-util-stream Support for Hazelcast IMDG</a><ul class='Nav'><li class='Nav__item '><a href="../../java-util-stream_Support_for_Hazelcast_IMDG/Simple_Example.html">Simple Example</a></li><li class='Nav__item '><a href="../../java-util-stream_Support_for_Hazelcast_IMDG/Serializable_Lambda_Functions.html">Serializable Lambda Functions</a></li><li class='Nav__item '><a href="../../java-util-stream_Support_for_Hazelcast_IMDG/Distributed_Collectors.html">Distributed Collectors</a></li><li class='Nav__item '><a href="../../java-util-stream_Support_for_Hazelcast_IMDG/Word_Count.html">Word Count</a></li><li class='Nav__item '><a href="../../java-util-stream_Support_for_Hazelcast_IMDG/Implementation_Notes.html">Implementation Notes</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Additional_Modules/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Additional Modules</a><ul class='Nav'><li class='Nav__item  has-children'><a href="../../Additional_Modules/hazelcast-jet-hadoop/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>hazelcast-jet-hadoop</a><ul class='Nav'><li class='Nav__item '><a href="../../Additional_Modules/hazelcast-jet-hadoop/ReadHdfsP.html">ReadHdfsP</a></li><li class='Nav__item '><a href="../../Additional_Modules/hazelcast-jet-hadoop/WriteHdfsP.html">WriteHdfsP</a></li><li class='Nav__item '><a href="../../Additional_Modules/hazelcast-jet-hadoop/Serialization_of_Writables.html">Serialization of Writables</a></li></ul></li><li class='Nav__item  has-children'><a href="../../Additional_Modules/hazelcast-jet-kafka/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>hazelcast-jet-kafka</a><ul class='Nav'><li class='Nav__item '><a href="../../Additional_Modules/hazelcast-jet-kafka/StreamKafkaP.html">StreamKafkaP</a></li><li class='Nav__item '><a href="../../Additional_Modules/hazelcast-jet-kafka/WriteKafkaP.html">WriteKafkaP</a></li></ul></li></ul></li><li class='Nav__item  has-children'><a href="../../Best_Practices/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Best Practices</a><ul class='Nav'><li class='Nav__item '><a href="../../Best_Practices/Jobs.html">Jobs</a></li></ul></li></ul>

            <div class="Links">
                                    <hr/>
                                            <a href="https://github.com/hazelcast/hazelcast-jet" target="_blank">GitHub Repo</a>
                        <br />
                                            <a href="https://github.com/hazelcast/hazelcast-jet/issues/new" target="_blank">Send Us a Fix</a>
                        <br />
                                            <a href="http://jet.hazelcast.org/documentation/" target="_blank">Go to Jet documentation</a>
                        <br />
                                    
                                    <div class="CodeToggler">
                        <hr/>
                                                    <a class="CodeToggler__button CodeToggler__button--main" href="#">Show Code Blocks Inline</a><br>
                                            </div>
                
                            </div>
        </div>
    </aside>
    <div class="Columns__right ">
        <div class="Columns__right__content">
            <div class="doc_content">
                <article class="Page">

    <div class="Page__header">
        <h1><a href="../../Understanding_Jet_Architecture_and_API/index.html">Understanding Jet Architecture and API</a> <svg class="Page__header--separator" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 477.175 477.175"><path d="M360.73 229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1 0s-5.3 13.8 0 19.1l215.5 215.5-215.5 215.5c-5.3 5.3-5.3 13.8 0 19.1 2.6 2.6 6.1 4 9.5 4 3.4 0 6.9-1.3 9.5-4l225.1-225.1c5.3-5.2 5.3-13.8.1-19z"/></svg> <a href="../../Understanding_Jet_Architecture_and_API/Edge/index.html">Edge</a> <svg class="Page__header--separator" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 477.175 477.175"><path d="M360.73 229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1 0s-5.3 13.8 0 19.1l215.5 215.5-215.5 215.5c-5.3 5.3-5.3 13.8 0 19.1 2.6 2.6 6.1 4 9.5 4 3.4 0 6.9-1.3 9.5-4l225.1-225.1c5.3-5.2 5.3-13.8.1-19z"/></svg> <a href="../../Understanding_Jet_Architecture_and_API/Edge/Forwarding_Patterns.html">Forwarding Patterns</a></h1>
                    </div>


    <div class="s-content">
        <p>The forwarding pattern decides which of the processors in the candidate
set to route each particular item to.</p>
<h4 id="page_Variable+Unicast">Variable Unicast</h4>
<p>This is the default forwarding pattern. For each item a single
destination processor is chosen with no further restrictions on the
choice. The only guarantee given by this pattern is that the item will
be received by exactly one processor, but typically care will be taken
to &quot;spray&quot; the items equally over all the reception candidates.</p>
<p>This choice makes sense when the data does not have to be partitioned,
usually implying a downstream vertex which can compute the result based
on each item in isolation.</p>
<h4 id="page_Broadcast">Broadcast</h4>
<p>A broadcasting edge sends each item to all candidate receivers. This is
useful when some small amount of data must be broadcast to all
downstream vertices. Usually such vertices will have other inbound edges
in addition to the broadcasting one, and will use the broadcast data as
context while processing the other edges. In such cases the broadcasting
edge will have a raised priority. There are other useful combinations,
like a parallelism-one vertex that produces the same result on each
member.</p>
<h4 id="page_Partitioned">Partitioned</h4>
<p>A partitioned edge sends each item to the one processor responsible for
the item's partition ID. On a distributed edge, this processor will be
unique across the whole cluster. On a local edge, each member will have
its own processor for each partition ID.</p>
<p>Each processor can be assigned to multiple partitions. The global number of
partitions is controlled by the number of partitions in the underlying
Hazelcast IMDG configuration. Please refer to <a href="http://docs.hazelcast.org/docs/latest/manual/html-single/index.html#data-partitioning" class="external">Hazelcast Reference Manual</a> for more information about Hazelcast IMDG
partitioning.</p>
<p>This is the default algorithm to determine the partition ID of an item:</p>
<ol>
<li>Apply the <code>keyExtractor</code> function defined on the edge to retrieve the
partitioning key.</li>
<li>Serialize the partitioning key to a byte array using Hazelcast
serialization.</li>
<li>Apply Hazelcast's standard <code>MurmurHash3</code>-based algorithm to get the
key's hash value.</li>
<li>Partition ID is the hash value modulo the number of partitions.</li>
</ol>
<p>The above procedure is quite CPU-intensive, but has the essential
property of giving repeatable results across all cluster members, which
may be running on disparate JVM implementations.</p>
<p>Another common choice is to use Java's standard <code>Object.hashCode()</code>. It
is often significantly faster. However, it is not a safe strategy in
general because <code>hashCode()</code>'s contract does not require repeatable
results across JVMs, or even different instances of the same JVM
version.</p>
<p>You can provide your own implementation of <code>Partitioner</code> to gain full
control over the partitioning strategy.</p>
<h4 id="page_All+to+One">All to One</h4>
<p>The all-to-one forwarding pattern is a special-case of the <strong>partitioned</strong>
pattern where all items are assigned to the same partition ID, randomly
chosen at the job initialization time. This will direct all items to the
same processor.</p>
    </div>

        <nav>
        <ul class="Pager">
            <li class=Pager--prev><a href="../../Understanding_Jet_Architecture_and_API/Edge/Local_and_Distributed_Edges.html">Previous</a></li>            <li class=Pager--next><a href="../../Understanding_Jet_Architecture_and_API/Edge/Buffered_Edges.html">Next</a></li>        </ul>
    </nav>
    </article>

            </div>
        </div>
    </div>
</div>

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-12653604-10', '');
    ga('send', 'pageview');
</script>

    <!-- jQuery -->
    <script src="../../themes/daux/js/jquery-1.11.3.min.js"></script>

    <!-- hightlight.js -->
    <script src="../../themes/daux/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- JS -->
    
    <script src="../../themes/daux/js/daux.js"></script>

            <!-- Tipue Search -->
        <script type="text/javascript" src="../../tipuesearch/tipuesearch.js"></script>

        <script>
            window.onunload = function(){}; // force $(document).ready to be called on back/forward navigation in firefox
            $(function() {
                tipuesearch({
                    'base_url': '../../'
                });
            });
        </script>
    
</body>
</html>
